<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Ted Koller's professional portfolio gallery | Showcasing a variety of videos."
    />
    <meta name="author" content="Ted Koller" />
    <title>Video Gallery | Ted Koller</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="scripts.js" defer></script>
  </head>
  <body>

    <a href="https://tedkoller.com/" class="back-button">
      <img src="../images/Arrow 1.svg" alt="Back" />
    </a>

    <!-- Video Carousel -->
    <div class="container">
      <input type="radio" name="slider" id="video-1" checked />
      <input type="radio" name="slider" id="video-2" />
      <input type="radio" name="slider" id="video-3" />
      <input type="radio" name="slider" id="video-4" />
      <input type="radio" name="slider" id="video-5" />
      <input type="radio" name="slider" id="video-6" />
      <input type="radio" name="slider" id="video-7" />

      <div class="cards">
        <label
          class="card"
          for="video-1"
          data-title="COVER CROPS FOR VEGETABLE GROWERS"
          data-link="https://www.youtube.com/watch?v=1VTh0jF-7ts"
          data-duration="5:12"
        >
          <video
            src="videos/coverCropThumbnail1.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>

        <label
          class="card"
          for="video-2"
          data-title="KAWMIX FEEDS | TOMMY SANDERS"
          data-link="https://www.youtube.com/watch?v=eEVglFSOdMo"
          data-duration="4:49"
        >
          <video
            src="videos/kawmixThumbnail2.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>

        <label
          class="card"
          for="video-3"
          data-title="KAWMIX FEEDS | GOODRICH ALPACAS"
          data-link="https://www.youtube.com/watch?v=VXMjVQZ9324"
          data-duration="0:58"
        >
          <video
            src="videos/kawmixThumbnail3.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>

        <label
          class="card"
          for="video-4"
          data-title="THE COUPES | DYNAMIC ASPECT RATIO"
          data-link="https://www.instagram.com/p/C99B3SZMHtz/"
          data-duration="2:50"
        >
          <video
            src="videos/theCoupes.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>

        <label
          class="card"
          for="video-5"
          data-title="INCREASING ORGANIC MATTER WITH SUMMER COVER CROPS"
          data-link="https://www.youtube.com/watch?v=DK_V74aI-qE"
          data-duration="5:13"
        >
          <video
            src="videos/coverCropThumbnail2.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>

        <label
          class="card"
          for="video-6"
          data-title="KAWMIX FEEDS | BRAD BROWN"
          data-link="https://www.youtube.com/watch?v=4F3LUfEW8jM"
          data-duration="3:55"
        >
          <video
            src="videos/kawmixThumbnail1.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>

        <label
          class="card"
          for="video-7"
          data-title="BPA VIDEO PRODUCTION 1ST PLACE KANSAS STATE WINNER"
          data-link="https://www.youtube.com/watch?v=pQLBevvG9u4&t=189s"
          data-duration="5:00"
        >
          <video
            src="videos/bffBpa.mp4"
            muted
            loop
            class="carousel-video"
          ></video>
        </label>
      </div>

      <div class="player">
        <div class="video-info">
          <div class="title">COVER CROPS FOR VEGETABLE GROWERS</div>
          <div class="sub-line">
            <div
              class="youtube-link"
              onclick="window.open('https://www.youtube.com/watch?v=1VTh0jF-7ts')"
            >
              Watch the full video here
            </div>
            <div class="duration">5:12</div>
          </div>
        </div>
      </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const cards = document.querySelectorAll(".card");
        const title = document.querySelector(".title");
        const link = document.querySelector(".youtube-link");
        const duration = document.querySelector(".duration");
        const activeVideos = document.querySelectorAll('input[name="slider"]');

        // Function to update player information
        function updatePlayerInfo(card) {
          const videoTitle = card.getAttribute("data-title");
          const videoLink = card.getAttribute("data-link");
          const videoDuration = card.getAttribute("data-duration");

          title.textContent = videoTitle;
          link.setAttribute("onclick", `window.open('${videoLink}')`);
          if (videoLink.includes("instagram")) {
            link.textContent = "Watch the full video on Instagram";
          } else {
            link.textContent = "Watch the full video on YouTube";
          }
          duration.textContent = videoDuration;
        }

        // Function to make active video clickable and add hover effect
        function handleActiveVideo() {
          const activeCard = document.querySelector(".cards .active-card");
          if (!activeCard) return; // No active card found

          const videoLink = activeCard.getAttribute("data-link");
          const activeVideo = activeCard.querySelector(".carousel-video");

          // Remove click and hover listeners from all videos first
          cards.forEach((card) => {
            const video = card.querySelector(".carousel-video");
            video.onclick = null;
            video.onmouseover = null;
            video.onmouseout = null;
          });

          // Add hover effect and click handler to the active video only
          activeVideo.onclick = function () {
            window.open(videoLink, "_blank");
          };

          activeVideo.onmouseover = function () {
            activeVideo.style.transform = "scale(1.05)";
            activeVideo.style.transition = "transform 0.3s ease-in-out";
          };

          activeVideo.onmouseout = function () {
            activeVideo.style.transform = "scale(1)";
          };
        }

        // Attach event listeners to update the player info when clicking on any card
        cards.forEach((card) => {
          card.addEventListener("click", function () {
            updatePlayerInfo(card);
            handleActiveVideo(); // Update the clickable active video
          });
        });

        // Ensure the click behavior is set when switching videos via the carousel
        activeVideos.forEach((radio) => {
          radio.addEventListener("change", () => {
            handleActiveVideo(); // Update the active video behavior
          });
        });

        // Initialize active video behavior on load
        handleActiveVideo();
      });
    </script>
  </body>
</html>
